<div class="wrapper">
  <div class="container">
    <h1>Scrabble Trainer</h1>
    <div id="randomletters">
      <% @letters.each do |x|%>
        <div class="letter">
          <%= x %>
        </div>
      <% end  %>
    </div>
    <div class="form-group">
      <form action="/score" method="post">
        <%= hidden_field_tag :letter_array, @letters %>
        <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
        <input id = "inputform" class="form-control" type="text" name="word" placeholder="What is the longest word you can think of?" autocomplete="off">
      </form>
    </div>
  </div>
</div>

<script>

let letters = document.querySelectorAll(".letter");
document.querySelector("#inputform").addEventListener("keyup", (e) => {
  letters.forEach((x) => {
    x.style.background = "lightblue";
  })

  e.target.value.toUpperCase().split("").forEach((let) => {
    for (let i = 0; i< letters.length ; i++) {
      if (letters[i].innerText == let && letters[i].style.background == "lightblue")  {
        letters[i].style.background = "red";
        break;
      }
    };
  });

});

</script>
